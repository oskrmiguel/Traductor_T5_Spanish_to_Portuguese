---
jupyter:
  accelerator: GPU
  colab:
    name: T5 Español a Portugues
  kernelspec:
    display_name: Python 3
    name: python3
  language_info:
    name: python
  nbformat: 4
  nbformat_minor: 0
  widgets:
    application/vnd.jupyter.widget-state+json:
      0064544119cc430888f6cb9f9867c22f:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      0108ed68dc104777b986f657aea5cfc1:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      0e38e3a6d6f14e98b5240e47d4567d5a:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      11b89898cdfe4568950cd5d81e7e5e8c:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_b52fd25befe946b288b11a02b7a92a3d
          - IPY_MODEL_e2886613e7874e3da796386bd56cba9a
          - IPY_MODEL_9e77ccb9edc746239b2e32c2199a80d4
          layout: IPY_MODEL_796c4c55fbc54f6b98e254c4352745c6
      12fb786dd8544d95901a65ed334410f5:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_3302a75eda864c5ab9829469e8344b43
          max: 791656
          min: 0
          orientation: horizontal
          style: IPY_MODEL_c4f171e7ce174e60a1644209b18922da
          value: 791656
      1315e2102009468188529f7279887209:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      1517eb67ea754527915ebc5fcaff3272:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      1541a3ebfd88436baab3bebcd9cb8e96:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      15643010ede5418c85143c247c957b42:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      166af35a6373480a858444292d3d3e25:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_d2bbe399875f4e0284c1caa9cd9bcec3
          - IPY_MODEL_f9296f53a82d4b5d80dc839375eaa2dd
          - IPY_MODEL_8e38ef7f65aa403b80a26f4451042096
          layout: IPY_MODEL_807860c233d74fb3b6757c7ff6b4508d
      171d81d5c08246e19005778d260a57d9:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      17a6c7a39e94496d95f36ad43342ccf0:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ButtonStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ButtonStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      1bda6e342ee549889057c4f92f484767:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      1bfdb4d85d5a4a5f94846b45b9d46758:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_d02e260833ca4893b6e7d80a673b3bca
          placeholder: ​
          style: IPY_MODEL_0108ed68dc104777b986f657aea5cfc1
          value: " 2.34M/2.34M \\[00:00&lt;00:00, 3.76MB/s\\]"
      1ddd86c441ac4f1f9af737a0a64dfc4b:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      1f57769f26f94933afe1138a09e0a709:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_f58611459d5c4dcf9700c4b73c0b3ea9
          max: 1948
          min: 0
          orientation: horizontal
          style: IPY_MODEL_e125abcdb63e405aa367401c3f98e4c8
          value: 1948
      1f8b78d1901e4948a879eb7ba2190273:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_250573179bb948d89ebd0a39722d5bb4
          - IPY_MODEL_6e41d354667b4513bf1e6e96f539c39e
          - IPY_MODEL_be56f9e0179246f6b5af1bf461b5c7e0
          layout: IPY_MODEL_31cbe1479a1e4ec6ae14d5f22a47d358
      1faac1a6bf3b49ac8148d3cd702eefc3:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_c35aa2b117dc4df6990a2342913b3e80
          placeholder: ​
          style: IPY_MODEL_43346f41a0244cb1afe499b23356164d
          value: " \\<b\\>Pro Tip:\\</b\\> If you don\\'t already have one,
            you can create a dedicated \\'notebooks\\' token with
            \\'write\\' access, that you can then easily reuse for all
            notebooks. \\<br\\> \\<i\\>Logging in with your username and
            password is deprecated and won\\'t be possible anymore in the
            near future. You can still use them for now by clicking
            below.\\</i\\> \\</center\\>"
      2029f97c8c0a483ba3835605bdbd33cf:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_5cc41424f3c64dc9baa9ac0c1024edd6
          placeholder: ​
          style: IPY_MODEL_ad0516babbf14872a5276eb84080bd58
          value: " 231M/231M \\[00:08&lt;00:00, 28.6MB/s\\]"
      213d0d8d3c9b45aea513629e65c87d14:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_3e1f690cb7b345699d3aa04caf290a45
          max: 1197
          min: 0
          orientation: horizontal
          style: IPY_MODEL_96a1134d86534765bc849da255aa7f22
          value: 1197
      219614a93ea84da9af426b156dd0d1ab:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      223cedf2c38e4a6283fd8835a7fad6c7:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      23f84fcc5dce4efe94996ba6261abdb8:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      24e53c8e20834940a01bf1aaeead3ed3:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      250573179bb948d89ebd0a39722d5bb4:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_e99da24d4413443d94f6de70a99ab4ec
          placeholder: ​
          style: IPY_MODEL_8adf9b15ea9f4db184f6e2a1ab6defce
          value: "Downloading: "
      27c161ef777e4c72a2ac023e44f125bc:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_847bfe52ad4f415b87403747fb547b91
          - IPY_MODEL_b94664fd38af408a8830e731b67ab7f9
          - IPY_MODEL_ee0b8b788ae0419491bd923eef38320e
          layout: IPY_MODEL_e3d8873f7ddd4fe5a7e401e09df70f17
      286eecc82f924f02afa6edab0e91181f:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      2fa1cf33437d4d10809153cad0f39be9:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      2fc752765e864bfbb026780ff4244d83:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      306939d873274f3dbc5353ef20f88e44:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      31cbe1479a1e4ec6ae14d5f22a47d358:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      32f0d4623f3b46dd9e979b8913651f7f:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      3302a75eda864c5ab9829469e8344b43:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      35fc008a69a84ee4874c71a5d03371bc:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      37dabf298750452ca885df0a3986c9ef:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_d56579e660ae4c8bb3719215207582d7
          - IPY_MODEL_f9d21c1e41344697b35cce13089b65b5
          - IPY_MODEL_1bfdb4d85d5a4a5f94846b45b9d46758
          layout: IPY_MODEL_cb235db092a143339b588a1e4c25d525
      39c7c3d7eaff44878f0e6fbe8ab99120:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      3b2bf804de9d4e6d939d4858ea716a9f:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_3e009fa47fea4afe9e5d90609e90cd04
          placeholder: ​
          style: IPY_MODEL_aaaa9fc539e841d992c2003778837dc3
          value: "Downloading: "
      3e009fa47fea4afe9e5d90609e90cd04:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      3e1f690cb7b345699d3aa04caf290a45:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      4224060e1a51494f97a827080e059705:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      43346f41a0244cb1afe499b23356164d:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      473b5cb1d27048c58586cd37be29eb16:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_fd23a58daa3a4ee78ad286b35c573026
          placeholder: ​
          style: IPY_MODEL_5de425aeac7a4d23bc20528a0b8e99ad
          value: "Downloading: 100%"
      47fd6a58ce6b44e1b0b8d14086fd55a2:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      48e8c3939ffa4b00be87877370cec84b:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      4bb7828a799b47eaaf7b557ac09392ad:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_1541a3ebfd88436baab3bebcd9cb8e96
          placeholder: ​
          style: IPY_MODEL_bad7cfd67a78493bb2b562d622216976
      4be80d6e5f894d0aa3f840cb689e0bca:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      4c520dadda2c4fa0a3021598c928ec95:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_32f0d4623f3b46dd9e979b8913651f7f
          placeholder: ​
          style: IPY_MODEL_af367df9f8d044dda455323765e50762
          value: "Downloading: 100%"
      4cbd19d695114b05a52a312476fce677:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      4d2dfda332b44067916cb9a0dff61f55:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_4bb7828a799b47eaaf7b557ac09392ad
          - IPY_MODEL_fbdf13bb7f3249ba841e147e3bf0e50b
          - IPY_MODEL_b0113efc9a94499c99dc0e2af0862d60
          layout: IPY_MODEL_39c7c3d7eaff44878f0e6fbe8ab99120
      4d541daf604841b49c24869f72834f11:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: VBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: VBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: VBoxView
          children:
          - IPY_MODEL_99b4cb7149514dd1b858ec80331b59a2
          - IPY_MODEL_87e94fb43a6644838ffa2075ad2aab06
          - IPY_MODEL_de85f30ad1504133badff387fc633ac4
          - IPY_MODEL_1faac1a6bf3b49ac8148d3cd702eefc3
          - IPY_MODEL_9ebb968175454388aa303997bb629d3c
          layout: IPY_MODEL_98074696935340e78db524b1136efad7
      4e5a061c534a42acab0b7516f45d47b0:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      52eb1d474d1246f2b2905673dbf7af12:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      5cc41424f3c64dc9baa9ac0c1024edd6:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      5de425aeac7a4d23bc20528a0b8e99ad:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      5dec5e95b3e94a45adfe87ea6c2cf053:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      5e8e0360f2e44192a873abb7f93def17:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_eec93da1461649a392aebc5c949bf0c7
          placeholder: ​
          style: IPY_MODEL_ab72e7f112e642a689ed80ce8d50cff6
          value: " 1.32M/1.32M \\[00:00&lt;00:00, 1.67MB/s\\]"
      5f623342bd0b499993647473445aef8e:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      630895ccaabb404b8f012ec2eb33d9d7:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      665b99f679f948f5b2b36f86872353f0:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_9315b6b0b8704dd5a003283e54ce6e16
          max: 1389353
          min: 0
          orientation: horizontal
          style: IPY_MODEL_6d69f0a2d6a84a56a1b1ca920dec2c57
          value: 1389353
      698a72b66ec84eaeafda304a5e75320d:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      6c0a569e9f1549f3aee4bd0ef5275922:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      6d69f0a2d6a84a56a1b1ca920dec2c57:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      6e41d354667b4513bf1e6e96f539c39e:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_c717a29cf53d4d0f9b0f83753f699f28
          max: 1450
          min: 0
          orientation: horizontal
          style: IPY_MODEL_d283a724bf674fa48c0172845594efdb
          value: 1450
      6f1e041b056d4a118590deeeb09dc8a3:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      796c4c55fbc54f6b98e254c4352745c6:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      7a651fb75e4942329bf387423faced05:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      7c0387a3ae084f6db008a0fcb1a6eff8:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      7f1c80f5ff874cacb3ec0e12f248a2d3:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      807860c233d74fb3b6757c7ff6b4508d:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      808cfc8df4694b2e874ea469f723a061:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_ca934f8c151244c18c55c13d5423703b
          placeholder: ​
          style: IPY_MODEL_4be80d6e5f894d0aa3f840cb689e0bca
          value: " 773k/773k \\[00:00&lt;00:00, 2.16MB/s\\]"
      8428f48dca3d47c4acee11e4e10a5b5e:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      847bfe52ad4f415b87403747fb547b91:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_24e53c8e20834940a01bf1aaeead3ed3
          placeholder: ​
          style: IPY_MODEL_ef2f8729ae664e9f97d802c4aedc8109
          value: 100%
      84fc50afbeea4fd2ba86a8648dfac6e3:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      87e94fb43a6644838ffa2075ad2aab06:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: PasswordModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: PasswordModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: PasswordView
          continuous_update: true
          description: "Token:"
          disabled: false
          layout: IPY_MODEL_698a72b66ec84eaeafda304a5e75320d
          placeholder: ​
          style: IPY_MODEL_2fc752765e864bfbb026780ff4244d83
      88060aa14f1147a2b3b5d396bcd4274c:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
          width: 20px
      8adf9b15ea9f4db184f6e2a1ab6defce:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      8c3216e8069442a4afe27de414ac3bbf:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      8e38ef7f65aa403b80a26f4451042096:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_a88cec578f414ada9caa10bfd129c35d
          placeholder: ​
          style: IPY_MODEL_1517eb67ea754527915ebc5fcaff3272
          value: " 4/4 \\[00:00&lt;00:00, 4.81ba/s\\]"
      8f5495c6f0f24354827f0ed139a26ab4:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      90a4841f231e44c68d68d80dd848ffce:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      9315b6b0b8704dd5a003283e54ce6e16:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      96a1134d86534765bc849da255aa7f22:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      98074696935340e78db524b1136efad7:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
          align_items: center
          display: flex
          flex_flow: column
          width: 50%
      99b4cb7149514dd1b858ec80331b59a2:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_8428f48dca3d47c4acee11e4e10a5b5e
          placeholder: ​
          style: IPY_MODEL_286eecc82f924f02afa6edab0e91181f
          value: "\\<center\\> \\<img
            src=https://huggingface.co/front/assets/huggingface_logo-noborder.svg
            alt=\\'Hugging Face\\'\\> \\<br\\> Copy a token from \\<a
            href=\\\"https://huggingface.co/settings/token\\\"
            target=\\\"\\_blank\\\"\\>your Hugging Face tokens page\\</a\\> and
            paste it below. \\<br\\> Immediately click login after copying
            your token or it might be stored in plain text in this
            notebook file. \\</center\\>"
      9a19399c0ae54de68d83f57fb325ac8a:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      9e3381e5683248d2b7b2c5696869865e:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      9e77ccb9edc746239b2e32c2199a80d4:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_48e8c3939ffa4b00be87877370cec84b
          placeholder: ​
          style: IPY_MODEL_d35c88ccd5bd415c83c6bea79ba5b6ea
          value: " 62/62 \\[00:12&lt;00:00, 3.44ba/s\\]"
      9e8c3e895c8641eba63e60303662bf3e:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      9ebb968175454388aa303997bb629d3c:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ButtonModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ButtonModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ButtonView
          description: Use password
          disabled: false
          layout: IPY_MODEL_219614a93ea84da9af426b156dd0d1ab
          style: IPY_MODEL_d819232180a44197959b3b5b387f1981
      a0ad50b54b6c478f9cc64ef12a7396bf:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_eba248d2a0e5450791bfea183c371269
          max: 4
          min: 0
          orientation: horizontal
          style: IPY_MODEL_84fc50afbeea4fd2ba86a8648dfac6e3
          value: 4
      a69e6040bde24c6388021d9fda4ca0a0:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_d26f9640a47f476984280c2350a3ee74
          - IPY_MODEL_213d0d8d3c9b45aea513629e65c87d14
          - IPY_MODEL_bed5b1436fe64f47b7e141d112afd3fa
          layout: IPY_MODEL_cb7a3b000ce94c64b8480d2f6c3962e2
      a88cec578f414ada9caa10bfd129c35d:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      a8e7c3a37be641338ee6679a6a4d3334:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      aa47015b20034fd19fd6c34c91f24f8c:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_1bda6e342ee549889057c4f92f484767
          placeholder: ​
          style: IPY_MODEL_e8300f0d0e534984b302de712b2e85cd
          value: "Downloading: 100%"
      aaaa9fc539e841d992c2003778837dc3:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      ab72e7f112e642a689ed80ce8d50cff6:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      ab8eed0826cd47ff86b004f5b4193b69:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_aa47015b20034fd19fd6c34c91f24f8c
          - IPY_MODEL_adbf38d8b67f41aea66a3c09a066317b
          - IPY_MODEL_2029f97c8c0a483ba3835605bdbd33cf
          layout: IPY_MODEL_cd992c58a70b40c9b246ac938d90fc60
      ad0516babbf14872a5276eb84080bd58:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      adbf38d8b67f41aea66a3c09a066317b:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_eef29f0f74d649bc9a3e1bfb3200e252
          max: 242065649
          min: 0
          orientation: horizontal
          style: IPY_MODEL_d4bef26324fa478399c22c3da1e2986a
          value: 242065649
      af367df9f8d044dda455323765e50762:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      b0113efc9a94499c99dc0e2af0862d60:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_cf5904581f45419ca89919fc5b66f827
          placeholder: ​
          style: IPY_MODEL_7a651fb75e4942329bf387423faced05
          value: " 65409/0 \\[00:02&lt;00:00, 22317.72 examples/s\\]"
      b52fd25befe946b288b11a02b7a92a3d:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_1ddd86c441ac4f1f9af737a0a64dfc4b
          placeholder: ​
          style: IPY_MODEL_d3c00c7916c348c89a882684f3e3df0e
          value: 100%
      b56ce977f88d43ebab5d7c1cfb096b2e:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      b78f7bb93c244ecab3ed01e40a146af8:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_4224060e1a51494f97a827080e059705
          placeholder: ​
          style: IPY_MODEL_90a4841f231e44c68d68d80dd848ffce
          value: " 4/4 \\[00:01&lt;00:00, 4.65ba/s\\]"
      b89b8cb40c924d54b96b5683ae5bc7ae:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      b8ac9c3cbc04419b8ab54cb2f943ca91:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_c73ee5faf0dc41d9ada5c42982067e71
          - IPY_MODEL_a0ad50b54b6c478f9cc64ef12a7396bf
          - IPY_MODEL_b78f7bb93c244ecab3ed01e40a146af8
          layout: IPY_MODEL_15643010ede5418c85143c247c957b42
      b94664fd38af408a8830e731b67ab7f9:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_ebc00200e5ef468bae28e575ef5ffff9
          max: 1
          min: 0
          orientation: horizontal
          style: IPY_MODEL_9a19399c0ae54de68d83f57fb325ac8a
          value: 1
      bad7cfd67a78493bb2b562d622216976:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      be56f9e0179246f6b5af1bf461b5c7e0:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_fae1d96b9967485987c118c14e371a21
          placeholder: ​
          style: IPY_MODEL_e1eacaad4f1847be83d1f395a2f6071a
          value: " 8.72k/? \\[00:00&lt;00:00, 225kB/s\\]"
      bed5b1436fe64f47b7e141d112afd3fa:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_8f5495c6f0f24354827f0ed139a26ab4
          placeholder: ​
          style: IPY_MODEL_7c0387a3ae084f6db008a0fcb1a6eff8
          value: " 1.17k/1.17k \\[00:00&lt;00:00, 30.1kB/s\\]"
      c104d1a8615f4457a5c65d8e6df73e95:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      c35aa2b117dc4df6990a2342913b3e80:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      c4f171e7ce174e60a1644209b18922da:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      c58e8a260656446798329f2afe32df37:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_d4e7ee2639f24d07be5693d7de7d4729
          - IPY_MODEL_e7c6369e20344c00a65607b99d0c8b34
          - IPY_MODEL_e06ad7dd5f4849f9a7ddf2408c4a2861
          layout: IPY_MODEL_0e38e3a6d6f14e98b5240e47d4567d5a
      c717a29cf53d4d0f9b0f83753f699f28:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      c73ee5faf0dc41d9ada5c42982067e71:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_8c3216e8069442a4afe27de414ac3bbf
          placeholder: ​
          style: IPY_MODEL_c104d1a8615f4457a5c65d8e6df73e95
          value: 100%
      ca934f8c151244c18c55c13d5423703b:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      cb235db092a143339b588a1e4c25d525:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      cb7a3b000ce94c64b8480d2f6c3962e2:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      cd4be0f1e1584552bd940ec46fd6bf74:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_3b2bf804de9d4e6d939d4858ea716a9f
          - IPY_MODEL_1f57769f26f94933afe1138a09e0a709
          - IPY_MODEL_ec4da799ec294c638f3eb4c16ebffc92
          layout: IPY_MODEL_9e8c3e895c8641eba63e60303662bf3e
      cd992c58a70b40c9b246ac938d90fc60:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      cf5904581f45419ca89919fc5b66f827:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      d02e260833ca4893b6e7d80a673b3bca:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      d21d5051ebbf480b9ed2ee6c962c4214:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      d26f9640a47f476984280c2350a3ee74:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_4e5a061c534a42acab0b7516f45d47b0
          placeholder: ​
          style: IPY_MODEL_1315e2102009468188529f7279887209
          value: "Downloading: 100%"
      d283a724bf674fa48c0172845594efdb:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      d2bbe399875f4e0284c1caa9cd9bcec3:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_35fc008a69a84ee4874c71a5d03371bc
          placeholder: ​
          style: IPY_MODEL_52eb1d474d1246f2b2905673dbf7af12
          value: 100%
      d35c88ccd5bd415c83c6bea79ba5b6ea:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      d3c00c7916c348c89a882684f3e3df0e:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      d4bef26324fa478399c22c3da1e2986a:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      d4e7ee2639f24d07be5693d7de7d4729:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_171d81d5c08246e19005778d260a57d9
          placeholder: ​
          style: IPY_MODEL_7f1c80f5ff874cacb3ec0e12f248a2d3
          value: "Downloading: "
      d56579e660ae4c8bb3719215207582d7:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_a8e7c3a37be641338ee6679a6a4d3334
          placeholder: ​
          style: IPY_MODEL_d818b6a4758f40319fbb566c1a8817ce
          value: "Downloading: 100%"
      d818b6a4758f40319fbb566c1a8817ce:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      d819232180a44197959b3b5b387f1981:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ButtonStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ButtonStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      de85f30ad1504133badff387fc633ac4:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ButtonModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ButtonModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ButtonView
          description: Login
          disabled: false
          layout: IPY_MODEL_23f84fcc5dce4efe94996ba6261abdb8
          style: IPY_MODEL_17a6c7a39e94496d95f36ad43342ccf0
      e06ad7dd5f4849f9a7ddf2408c4a2861:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_6c0a569e9f1549f3aee4bd0ef5275922
          placeholder: ​
          style: IPY_MODEL_5f623342bd0b499993647473445aef8e
          value: " 5.65k/? \\[00:00&lt;00:00, 116kB/s\\]"
      e125abcdb63e405aa367401c3f98e4c8:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      e1eacaad4f1847be83d1f395a2f6071a:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      e2886613e7874e3da796386bd56cba9a:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_223cedf2c38e4a6283fd8835a7fad6c7
          max: 62
          min: 0
          orientation: horizontal
          style: IPY_MODEL_fafef5e359e34f34b9a56883f3674ab7
          value: 62
      e3d8873f7ddd4fe5a7e401e09df70f17:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      e7c6369e20344c00a65607b99d0c8b34:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_b56ce977f88d43ebab5d7c1cfb096b2e
          max: 2356
          min: 0
          orientation: horizontal
          style: IPY_MODEL_d21d5051ebbf480b9ed2ee6c962c4214
          value: 2356
      e8300f0d0e534984b302de712b2e85cd:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      e99da24d4413443d94f6de70a99ab4ec:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      eba248d2a0e5450791bfea183c371269:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      ebc00200e5ef468bae28e575ef5ffff9:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      ec4da799ec294c638f3eb4c16ebffc92:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_47fd6a58ce6b44e1b0b8d14086fd55a2
          placeholder: ​
          style: IPY_MODEL_b89b8cb40c924d54b96b5683ae5bc7ae
          value: " 4.41k/? \\[00:00&lt;00:00, 103kB/s\\]"
      ee0b8b788ae0419491bd923eef38320e:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HTMLModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HTMLModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HTMLView
          layout: IPY_MODEL_2fa1cf33437d4d10809153cad0f39be9
          placeholder: ​
          style: IPY_MODEL_306939d873274f3dbc5353ef20f88e44
          value: " 1/1 \\[00:00&lt;00:00, 22.83it/s\\]"
      eec93da1461649a392aebc5c949bf0c7:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      eef29f0f74d649bc9a3e1bfb3200e252:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      ef2f8729ae664e9f97d802c4aedc8109:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: DescriptionStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: DescriptionStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      f0b2748a284c479e8347b59415484760:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      f58611459d5c4dcf9700c4b73c0b3ea9:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      f6eb97865fd4444b912c5f6cb0c531ba:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_4c520dadda2c4fa0a3021598c928ec95
          - IPY_MODEL_12fb786dd8544d95901a65ed334410f5
          - IPY_MODEL_808cfc8df4694b2e874ea469f723a061
          layout: IPY_MODEL_9e3381e5683248d2b7b2c5696869865e
      f9296f53a82d4b5d80dc839375eaa2dd:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_630895ccaabb404b8f012ec2eb33d9d7
          max: 4
          min: 0
          orientation: horizontal
          style: IPY_MODEL_f0b2748a284c479e8347b59415484760
          value: 4
      f9d21c1e41344697b35cce13089b65b5:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: success
          layout: IPY_MODEL_6f1e041b056d4a118590deeeb09dc8a3
          max: 2340361
          min: 0
          orientation: horizontal
          style: IPY_MODEL_0064544119cc430888f6cb9f9867c22f
          value: 2340361
      fae1d96b9967485987c118c14e371a21:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      fafef5e359e34f34b9a56883f3674ab7:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: ProgressStyleModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: ProgressStyleModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: StyleView
      fbdf13bb7f3249ba841e147e3bf0e50b:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: FloatProgressModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: FloatProgressModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: ProgressView
          bar_style: info
          layout: IPY_MODEL_88060aa14f1147a2b3b5d396bcd4274c
          max: 1
          min: 0
          orientation: horizontal
          style: IPY_MODEL_4cbd19d695114b05a52a312476fce677
          value: 1
      fd23a58daa3a4ee78ad286b35c573026:
        model_module: \@jupyter-widgets/base
        model_module_version: 1.2.0
        model_name: LayoutModel
        state:
          _model_module: \@jupyter-widgets/base
          _model_module_version: 1.2.0
          _model_name: LayoutModel
          _view_module: \@jupyter-widgets/base
          _view_module_version: 1.2.0
          _view_name: LayoutView
      ffba4f304b434d54bb41a57f59db63c0:
        model_module: \@jupyter-widgets/controls
        model_module_version: 1.5.0
        model_name: HBoxModel
        state:
          _model_module: \@jupyter-widgets/controls
          _model_module_version: 1.5.0
          _model_name: HBoxModel
          _view_module: \@jupyter-widgets/controls
          _view_module_version: 1.5.0
          _view_name: HBoxView
          children:
          - IPY_MODEL_473b5cb1d27048c58586cd37be29eb16
          - IPY_MODEL_665b99f679f948f5b2b36f86872353f0
          - IPY_MODEL_5e8e0360f2e44192a873abb7f93def17
          layout: IPY_MODEL_5dec5e95b3e94a45adfe87ea6c2cf053
---

::: {.cell .markdown id="p7qsRGKDoEXY"}
Este cuaderno es una adaptación de [How to fine-tune a model on
translation](https://colab.research.google.com/github/huggingface/notebooks/blob/master/examples/translation.ipynb)
:::

::: {.cell .markdown id="X4cRE8IbIrIV"}
Si vas a abrir este cuaderno en colab, probablemente necesitarás
instalar 🤗 Transformers y 🤗 Datasets. Descomenta la siguiente celda y
ejecútala.
:::

::: {.cell .code id="MOsHUjgdIrIW"}
``` {.python}
! pip install datasets transformers[sentencepiece] sacrebleu
```
:::

::: {.cell .markdown id="RUABb553XYra"}
Si estás abriendo este cuaderno localmente, asegúrate de que tu entorno
tiene una instalación de la última versión de esas librerías.

Para poder compartir tu modelo con la comunidad y generar resultados
como el que se muestra en la imagen de abajo a través de la API de
inferencia, hay que seguir algunos pasos más.

Primero tienes que almacenar tu token de autenticación del sitio web de
Hugging Face (¡regístrate [aquí](https://huggingface.co/join) si aún no
lo has hecho!) y luego ejecutar la siguiente celda e introducir tu
nombre de usuario y contraseña:
:::

::: {.cell .code colab="{\"height\":387,\"referenced_widgets\":[\"4d541daf604841b49c24869f72834f11\",\"98074696935340e78db524b1136efad7\",\"99b4cb7149514dd1b858ec80331b59a2\",\"87e94fb43a6644838ffa2075ad2aab06\",\"de85f30ad1504133badff387fc633ac4\",\"1faac1a6bf3b49ac8148d3cd702eefc3\",\"9ebb968175454388aa303997bb629d3c\",\"286eecc82f924f02afa6edab0e91181f\",\"8428f48dca3d47c4acee11e4e10a5b5e\",\"2fc752765e864bfbb026780ff4244d83\",\"698a72b66ec84eaeafda304a5e75320d\",\"17a6c7a39e94496d95f36ad43342ccf0\",\"23f84fcc5dce4efe94996ba6261abdb8\",\"43346f41a0244cb1afe499b23356164d\",\"c35aa2b117dc4df6990a2342913b3e80\",\"d819232180a44197959b3b5b387f1981\",\"219614a93ea84da9af426b156dd0d1ab\"],\"base_uri\":\"https://localhost:8080/\"}" id="UpEsSDX4XYrf" outputId="f2ae2cc6-bbce-4eaa-9091-0194fb2c4814"}
``` {.python}
from huggingface_hub import notebook_login

notebook_login()
```

::: {.output .stream .stdout}
    Login successful
    Your token has been saved to /root/.huggingface/token
:::
:::

::: {.cell .code id="C7dyMa9wYM2R"}
``` {.python}
!git config --global credential.helper store
```
:::

::: {.cell .markdown id="7uh2EipZXYrj"}
A continuación, debe instalar Git-LFS. Descomente las siguientes
instrucciones:
:::

::: {.cell .code id="SpJexaX3XYrm"}
``` {.python}
!apt install git-lfs
```
:::

::: {.cell .markdown id="Wqm9nDaXXYrq"}
Asegúrate de que tu versión de Transformers es al menos la 4.11.0 ya que
la funcionalidad se introdujo en esa versión:
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="7luS4UCqXYrs" outputId="af6c882e-8c4c-4c13-8574-1589a3f31181"}
``` {.python}
import transformers

print(transformers.__version__)
```

::: {.output .stream .stdout}
    4.17.0
:::
:::

::: {.cell .markdown id="rEJBSTyZIrIb"}
# Fine-tuning de un modelo en una tarea de traducción
:::

::: {.cell .markdown id="kTCFado4IrIc"}
En este cuaderno, veremos cómo afinar uno de los modelos [🤗
Transformers](https://github.com/huggingface/transformers) para una
tarea de traducción. Utilizaremos el [WMT
dataset](http://www.statmt.org/wmt16/), un conjunto de datos de
traducción automática compuesto por una colección de varias fuentes,
incluyendo comentarios de noticias y actas del parlamento.

![Inferencia de widgets en una tarea de
traducción](vertopal_1e01fa4c19db4ec3a302aab0dfb4e235/e3de570058241396071dc07e4714b14da0c43de5.png)

Veremos cómo cargar fácilmente el conjunto de datos para esta tarea
utilizando 🤗 Datasets y cómo afinar un modelo sobre él utilizando la API
`Trainer`.
:::

::: {.cell .markdown id="whPRbBNbIrIl"}
## Loading the dataset
:::

::: {.cell .markdown id="W7QYTpxXIrIl"}
Utilizaremos la librería [🤗
Datasets](https://github.com/huggingface/datasets) para descargar los
datos y obtener la métrica que necesitamos utilizar para la evaluación
(para comparar nuestro modelo con el benchmark). Esto se puede hacer
fácilmente con las funciones `load_dataset` y `load_metric`. Aquí
utilizamos la parte español/portugués del conjunto de datos tatoeba.
:::

::: {.cell .code colab="{\"height\":233,\"referenced_widgets\":[\"cd4be0f1e1584552bd940ec46fd6bf74\",\"9e8c3e895c8641eba63e60303662bf3e\",\"3b2bf804de9d4e6d939d4858ea716a9f\",\"1f57769f26f94933afe1138a09e0a709\",\"ec4da799ec294c638f3eb4c16ebffc92\",\"aaaa9fc539e841d992c2003778837dc3\",\"3e009fa47fea4afe9e5d90609e90cd04\",\"e125abcdb63e405aa367401c3f98e4c8\",\"f58611459d5c4dcf9700c4b73c0b3ea9\",\"b89b8cb40c924d54b96b5683ae5bc7ae\",\"47fd6a58ce6b44e1b0b8d14086fd55a2\",\"1f8b78d1901e4948a879eb7ba2190273\",\"31cbe1479a1e4ec6ae14d5f22a47d358\",\"250573179bb948d89ebd0a39722d5bb4\",\"6e41d354667b4513bf1e6e96f539c39e\",\"be56f9e0179246f6b5af1bf461b5c7e0\",\"8adf9b15ea9f4db184f6e2a1ab6defce\",\"e99da24d4413443d94f6de70a99ab4ec\",\"d283a724bf674fa48c0172845594efdb\",\"c717a29cf53d4d0f9b0f83753f699f28\",\"e1eacaad4f1847be83d1f395a2f6071a\",\"fae1d96b9967485987c118c14e371a21\",\"37dabf298750452ca885df0a3986c9ef\",\"cb235db092a143339b588a1e4c25d525\",\"d56579e660ae4c8bb3719215207582d7\",\"f9d21c1e41344697b35cce13089b65b5\",\"1bfdb4d85d5a4a5f94846b45b9d46758\",\"d818b6a4758f40319fbb566c1a8817ce\",\"a8e7c3a37be641338ee6679a6a4d3334\",\"0064544119cc430888f6cb9f9867c22f\",\"6f1e041b056d4a118590deeeb09dc8a3\",\"0108ed68dc104777b986f657aea5cfc1\",\"d02e260833ca4893b6e7d80a673b3bca\",\"4d2dfda332b44067916cb9a0dff61f55\",\"39c7c3d7eaff44878f0e6fbe8ab99120\",\"4bb7828a799b47eaaf7b557ac09392ad\",\"fbdf13bb7f3249ba841e147e3bf0e50b\",\"b0113efc9a94499c99dc0e2af0862d60\",\"bad7cfd67a78493bb2b562d622216976\",\"1541a3ebfd88436baab3bebcd9cb8e96\",\"4cbd19d695114b05a52a312476fce677\",\"88060aa14f1147a2b3b5d396bcd4274c\",\"7a651fb75e4942329bf387423faced05\",\"cf5904581f45419ca89919fc5b66f827\",\"27c161ef777e4c72a2ac023e44f125bc\",\"e3d8873f7ddd4fe5a7e401e09df70f17\",\"847bfe52ad4f415b87403747fb547b91\",\"b94664fd38af408a8830e731b67ab7f9\",\"ee0b8b788ae0419491bd923eef38320e\",\"ef2f8729ae664e9f97d802c4aedc8109\",\"24e53c8e20834940a01bf1aaeead3ed3\",\"9a19399c0ae54de68d83f57fb325ac8a\",\"ebc00200e5ef468bae28e575ef5ffff9\",\"306939d873274f3dbc5353ef20f88e44\",\"2fa1cf33437d4d10809153cad0f39be9\",\"c58e8a260656446798329f2afe32df37\",\"0e38e3a6d6f14e98b5240e47d4567d5a\",\"d4e7ee2639f24d07be5693d7de7d4729\",\"e7c6369e20344c00a65607b99d0c8b34\",\"e06ad7dd5f4849f9a7ddf2408c4a2861\",\"7f1c80f5ff874cacb3ec0e12f248a2d3\",\"171d81d5c08246e19005778d260a57d9\",\"d21d5051ebbf480b9ed2ee6c962c4214\",\"b56ce977f88d43ebab5d7c1cfb096b2e\",\"5f623342bd0b499993647473445aef8e\",\"6c0a569e9f1549f3aee4bd0ef5275922\"],\"base_uri\":\"https://localhost:8080/\"}" id="IreSlFmlIrIm" outputId="297607f2-8dcf-4d66-ec9f-98dbbf8293fc"}
``` {.python}
from datasets import load_dataset, load_metric,DatasetDict

raw_datasets = load_dataset("tatoeba", "es-pt")
metric = load_metric("sacrebleu")
```

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"cd4be0f1e1584552bd940ec46fd6bf74"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"1f8b78d1901e4948a879eb7ba2190273"}
```
:::

::: {.output .stream .stdout}
    Downloading and preparing dataset tatoeba/es-pt (download: 2.23 MiB, generated: 5.89 MiB, post-processed: Unknown size, total: 8.13 MiB) to /root/.cache/huggingface/datasets/tatoeba/es-pt/2021.7.22/b3ea9c6bb2af47699c5fc0a155643f5a0da287c7095ea14824ee0a8afd74daf6...
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"37dabf298750452ca885df0a3986c9ef"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"4d2dfda332b44067916cb9a0dff61f55"}
```
:::

::: {.output .stream .stdout}
    Dataset tatoeba downloaded and prepared to /root/.cache/huggingface/datasets/tatoeba/es-pt/2021.7.22/b3ea9c6bb2af47699c5fc0a155643f5a0da287c7095ea14824ee0a8afd74daf6. Subsequent calls will reuse this data.
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"27c161ef777e4c72a2ac023e44f125bc"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"c58e8a260656446798329f2afe32df37"}
```
:::
:::

::: {.cell .markdown id="RzfPtOMoIrIu"}
El objeto `dataset` es
[`DatasetDict`](https://huggingface.co/docs/datasets/package_reference/main_classes.html#datasetdict),
que contiene una clave para el conjunto de entrenamiento
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="GWiVUF0jIrIv" outputId="79a35919-cd74-4f9b-c2e4-fdf7de4cd075"}
``` {.python}
raw_datasets
```

::: {.output .execute_result execution_count="8"}
    DatasetDict({
        train: Dataset({
            features: ['id', 'translation'],
            num_rows: 67782
        })
    })
:::
:::

::: {.cell .markdown id="u3EtYfeHIrIz"}
Para acceder a un elemento real, primero hay que seleccionar una
división y luego dar un índice:
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="X6HrpprwIrIz" outputId="95e910bd-1347-42bf-c36c-9573ea7ad741"}
``` {.python}
raw_datasets["train"][0]
```

::: {.output .execute_result execution_count="9"}
    {'id': '0',
     'translation': {'es': '¡Intentemos algo!',
      'pt': 'Vamos tentar alguma coisa!'}}
:::
:::

::: {.cell .markdown id="SpEVnl2liKbt"}
Nosotros dividiremos este conjunto de datos en entrenamiento, validación
y pruebas
:::

::: {.cell .code id="PnHUfX4aA0U6"}
``` {.python}
train_devtest = raw_datasets['train'].train_test_split(shuffle = True, seed = 200, test_size=0.1)
posts_dev_test = train_devtest['test'].train_test_split(shuffle = True, seed = 200, test_size=0.50)
raw_datasets = DatasetDict({
    'train': train_devtest['train'],
    'validation': posts_dev_test['test'],
    'test': posts_dev_test['train']})
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="4oRyAuIvaOjw" outputId="d356cbe7-a66f-4b89-c694-7a06311715d2"}
``` {.python}
raw_datasets
```

::: {.output .execute_result execution_count="11"}
    DatasetDict({
        train: Dataset({
            features: ['id', 'translation'],
            num_rows: 61003
        })
        validation: Dataset({
            features: ['id', 'translation'],
            num_rows: 3390
        })
        test: Dataset({
            features: ['id', 'translation'],
            num_rows: 3389
        })
    })
:::
:::

::: {.cell .markdown id="n9qywopnIrJH"}
## Preprocessing the data
:::

::: {.cell .markdown id="YVx71GdAIrJH"}
Antes de que podamos introducir esos textos en nuestro modelo, tenemos
que preprocesarlos. Esto lo hace un `Tokenizer` de Transformers 🤗 que
(como su nombre indica) tokenizará las entradas (incluyendo la
conversión de los tokens a sus correspondientes IDs en el vocabulario
preentrenado) y las pondrá en un formato que el modelo espera, así como
generará las otras entradas que el modelo requiere.

Para hacer todo esto, instanciamos nuestro tokenizador con el método
`AutoTokenizer.from_pretrained`, que asegurará

-   obtenemos un tokenizador que corresponde a la arquitectura del
    modelo que queremos utilizar,
-   descargamos el vocabulario utilizado al preentrenar este punto de
    control específico.

Ese vocabulario se almacenará en la caché, para que no se descargue de
nuevo la próxima vez que ejecutemos la célula.
:::

::: {.cell .code colab="{\"height\":113,\"referenced_widgets\":[\"a69e6040bde24c6388021d9fda4ca0a0\",\"cb7a3b000ce94c64b8480d2f6c3962e2\",\"d26f9640a47f476984280c2350a3ee74\",\"213d0d8d3c9b45aea513629e65c87d14\",\"bed5b1436fe64f47b7e141d112afd3fa\",\"1315e2102009468188529f7279887209\",\"4e5a061c534a42acab0b7516f45d47b0\",\"96a1134d86534765bc849da255aa7f22\",\"3e1f690cb7b345699d3aa04caf290a45\",\"7c0387a3ae084f6db008a0fcb1a6eff8\",\"8f5495c6f0f24354827f0ed139a26ab4\",\"f6eb97865fd4444b912c5f6cb0c531ba\",\"9e3381e5683248d2b7b2c5696869865e\",\"4c520dadda2c4fa0a3021598c928ec95\",\"12fb786dd8544d95901a65ed334410f5\",\"808cfc8df4694b2e874ea469f723a061\",\"af367df9f8d044dda455323765e50762\",\"32f0d4623f3b46dd9e979b8913651f7f\",\"c4f171e7ce174e60a1644209b18922da\",\"3302a75eda864c5ab9829469e8344b43\",\"4be80d6e5f894d0aa3f840cb689e0bca\",\"ca934f8c151244c18c55c13d5423703b\",\"ffba4f304b434d54bb41a57f59db63c0\",\"5dec5e95b3e94a45adfe87ea6c2cf053\",\"473b5cb1d27048c58586cd37be29eb16\",\"665b99f679f948f5b2b36f86872353f0\",\"5e8e0360f2e44192a873abb7f93def17\",\"5de425aeac7a4d23bc20528a0b8e99ad\",\"fd23a58daa3a4ee78ad286b35c573026\",\"6d69f0a2d6a84a56a1b1ca920dec2c57\",\"9315b6b0b8704dd5a003283e54ce6e16\",\"ab72e7f112e642a689ed80ce8d50cff6\",\"eec93da1461649a392aebc5c949bf0c7\"],\"base_uri\":\"https://localhost:8080/\"}" id="eXNLu_-nIrJI" outputId="1830d064-d32e-47d0-d733-450225662548"}
``` {.python}
from transformers import AutoTokenizer
model_checkpoint='t5-small'
tokenizer = AutoTokenizer.from_pretrained(model_checkpoint)
```

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"a69e6040bde24c6388021d9fda4ca0a0"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"f6eb97865fd4444b912c5f6cb0c531ba"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"ffba4f304b434d54bb41a57f59db63c0"}
```
:::
:::

::: {.cell .markdown id="2C0hcmp9IrJQ"}
Si está utilizando uno de los cinco puntos de control T5 que requieren
un prefijo especial para poner antes de las entradas, debe adaptar la
siguiente celda
:::

::: {.cell .code id="Ip4OFBRvXYsr"}
``` {.python}
if model_checkpoint in ["t5-small", "t5-base", "t5-larg", "t5-3b", "t5-11b"]:
    prefix = "translate Spanish to Portuguese: "
else:
    prefix = ""
```
:::

::: {.cell .markdown id="PKLcxmlWXYss"}
Podemos entonces escribir la función que preprocesará nuestras muestras.
Simplemente las alimentamos al `tokenizer` con el argumento
`truncation=True`. Esto asegurará que una entrada más larga de lo que el
modelo seleccionado puede manejar se truncará a la longitud máxima
aceptada por el modelo. El relleno se tratará más tarde (en un
recopilador de datos), de modo que rellenamos los ejemplos hasta la
longitud más larga del lote y no todo el conjunto de datos.
:::

::: {.cell .code id="vc0BSBLIIrJQ"}
``` {.python}
max_input_length = 128
max_target_length = 128
source_lang = "es"
target_lang = "pt"

def preprocess_function(examples):
    inputs = [prefix + ex[source_lang] for ex in examples["translation"]]
    targets = [ex[target_lang] for ex in examples["translation"]]
    model_inputs = tokenizer(inputs, max_length=max_input_length, truncation=True)

    # Setup the tokenizer for targets
    with tokenizer.as_target_tokenizer():
        labels = tokenizer(targets, max_length=max_target_length, truncation=True)

    model_inputs["labels"] = labels["input_ids"]
    return model_inputs
```
:::

::: {.cell .markdown id="0lm8ozrJIrJR"}
Esta función funciona con uno o varios ejemplos. En el caso de varios
ejemplos, el tokenizador devolverá una lista de listas para cada clave:
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="-b70jh26IrJS" outputId="47e9ad36-f94c-429b-995b-a1a1f3149eba"}
``` {.python}
preprocess_function(raw_datasets['train'][:2])
```

::: {.output .execute_result execution_count="15"}
    {'input_ids': [[13959, 5093, 12, 21076, 10, 1174, 15, 6626, 2561, 23, 32, 3, 9, 1313, 15, 3, 9, 3151, 35, 355, 7, 20, 1413, 15785, 9, 7, 12, 26, 32, 7, 10381, 3, 26, 2, 9, 7, 5, 1], [13959, 5093, 12, 21076, 10, 1626, 75, 154, 6899, 238, 285, 1498, 7, 975, 3, 154, 40, 5, 1]], 'attention_mask': [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]], 'labels': [[465, 7, 7, 32, 353, 44, 7253, 3151, 35, 9, 7, 20, 1413, 15785, 9, 7, 12, 26, 32, 7, 3, 32, 7, 1227, 9, 7, 5, 1], [1699, 11666, 3, 32, 238, 285, 7, 49, 3, 287, 3, 400, 5, 1]]}
:::
:::

::: {.cell .markdown id="zS-6iXTkIrJT"}
Para aplicar esta función en todos los pares de frases de nuestro
conjunto de datos, sólo tenemos que utilizar el método `map` de nuestro
objeto `dataset` que hemos creado anteriormente. Esto aplicará la
función en todos los elementos de todas las divisiones en `dataset`, por
lo que nuestros datos de entrenamiento, validación y prueba serán
preprocesados en un solo comando.
:::

::: {.cell .code colab="{\"height\":113,\"referenced_widgets\":[\"11b89898cdfe4568950cd5d81e7e5e8c\",\"796c4c55fbc54f6b98e254c4352745c6\",\"b52fd25befe946b288b11a02b7a92a3d\",\"e2886613e7874e3da796386bd56cba9a\",\"9e77ccb9edc746239b2e32c2199a80d4\",\"d3c00c7916c348c89a882684f3e3df0e\",\"1ddd86c441ac4f1f9af737a0a64dfc4b\",\"fafef5e359e34f34b9a56883f3674ab7\",\"223cedf2c38e4a6283fd8835a7fad6c7\",\"d35c88ccd5bd415c83c6bea79ba5b6ea\",\"48e8c3939ffa4b00be87877370cec84b\",\"b8ac9c3cbc04419b8ab54cb2f943ca91\",\"15643010ede5418c85143c247c957b42\",\"c73ee5faf0dc41d9ada5c42982067e71\",\"a0ad50b54b6c478f9cc64ef12a7396bf\",\"b78f7bb93c244ecab3ed01e40a146af8\",\"c104d1a8615f4457a5c65d8e6df73e95\",\"8c3216e8069442a4afe27de414ac3bbf\",\"84fc50afbeea4fd2ba86a8648dfac6e3\",\"eba248d2a0e5450791bfea183c371269\",\"90a4841f231e44c68d68d80dd848ffce\",\"4224060e1a51494f97a827080e059705\",\"166af35a6373480a858444292d3d3e25\",\"807860c233d74fb3b6757c7ff6b4508d\",\"d2bbe399875f4e0284c1caa9cd9bcec3\",\"f9296f53a82d4b5d80dc839375eaa2dd\",\"8e38ef7f65aa403b80a26f4451042096\",\"52eb1d474d1246f2b2905673dbf7af12\",\"35fc008a69a84ee4874c71a5d03371bc\",\"f0b2748a284c479e8347b59415484760\",\"630895ccaabb404b8f012ec2eb33d9d7\",\"1517eb67ea754527915ebc5fcaff3272\",\"a88cec578f414ada9caa10bfd129c35d\"],\"base_uri\":\"https://localhost:8080/\"}" id="DDtsaJeVIrJT" outputId="a924acf4-77a5-4f46-d797-46a88a6655c9"}
``` {.python}
tokenized_datasets = raw_datasets.map(preprocess_function, batched=True)
```

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"11b89898cdfe4568950cd5d81e7e5e8c"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"b8ac9c3cbc04419b8ab54cb2f943ca91"}
```
:::

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"166af35a6373480a858444292d3d3e25"}
```
:::
:::

::: {.cell .markdown id="voWiw8C7IrJV"}
Incluso mejor, los resultados son automáticamente almacenados en caché
por la biblioteca 🤗 Datasets para evitar perder tiempo en este paso la
próxima vez que ejecutes tu cuaderno. La biblioteca 🤗 Datasets es
normalmente lo suficientemente inteligente como para detectar cuando la
función que pasas a map ha cambiado (y por lo tanto requiere no utilizar
los datos de la caché). Por ejemplo, detectará correctamente si cambias
la tarea en la primera celda y vuelves a ejecutar el cuaderno. 🤗
Datasets te avisa cuando utiliza archivos en caché, puedes pasar
`load_from_cache_file=False` en la llamada a `map` para no utilizar los
archivos en caché y forzar que se aplique de nuevo el preprocesamiento.

Tenga en cuenta que pasamos `batched=True` para codificar los textos por
lotes juntos. Esto es para aprovechar todas las ventajas del tokenizador
rápido que cargamos antes, que utilizará el multithreading para tratar
los textos de un lote de forma concurrente.
:::

::: {.cell .markdown id="545PP3o8IrJV"}
## Fine-tuning the model
:::

::: {.cell .markdown id="FBiW8UpKIrJW"}
Ahora que nuestros datos están listos, podemos descargar el modelo
preentrenado y ajustarlo. Como nuestra tarea es del tipo secuencia a
secuencia, utilizamos la clase `AutoModelForSeq2SeqLM`. Al igual que con
el tokenizador, el método `from_pretrained` descargará y almacenará en
caché el modelo por nosotros.
:::

::: {.cell .code colab="{\"height\":49,\"referenced_widgets\":[\"ab8eed0826cd47ff86b004f5b4193b69\",\"cd992c58a70b40c9b246ac938d90fc60\",\"aa47015b20034fd19fd6c34c91f24f8c\",\"adbf38d8b67f41aea66a3c09a066317b\",\"2029f97c8c0a483ba3835605bdbd33cf\",\"e8300f0d0e534984b302de712b2e85cd\",\"1bda6e342ee549889057c4f92f484767\",\"d4bef26324fa478399c22c3da1e2986a\",\"eef29f0f74d649bc9a3e1bfb3200e252\",\"ad0516babbf14872a5276eb84080bd58\",\"5cc41424f3c64dc9baa9ac0c1024edd6\"],\"base_uri\":\"https://localhost:8080/\"}" id="TlqNaB8jIrJW" outputId="2293d9b6-db9c-4cd9-d9b4-f563459d955a"}
``` {.python}
from transformers import AutoModelForSeq2SeqLM, DataCollatorForSeq2Seq, Seq2SeqTrainingArguments, Seq2SeqTrainer

model = AutoModelForSeq2SeqLM.from_pretrained(model_checkpoint)
```

::: {.output .display_data}
``` {.json}
{"version_major":2,"version_minor":0,"model_id":"ab8eed0826cd47ff86b004f5b4193b69"}
```
:::
:::

::: {.cell .markdown id="_N8urzhyIrJY"}
Para instanciar un `Seq2SeqTrainer`, necesitaremos definir tres cosas
más. La más importante es el
[`Seq2SeqTrainingArguments`](https://huggingface.co/transformers/main_classes/trainer.html#transformers.Seq2SeqTrainingArguments),
que es una clase que contiene todos los atributos para personalizar el
entrenamiento. Requiere un nombre de carpeta, que se utilizará para
guardar los puntos de control del modelo, y todos los demás argumentos
son opcionales:
:::

::: {.cell .code id="Bliy8zgjIrJY"}
``` {.python}
batch_size = 32
model_name = model_checkpoint.split("/")[-1]
args = Seq2SeqTrainingArguments(
    f"{model_name}-finetuned-{source_lang}-to-{target_lang}",
    evaluation_strategy = "epoch",
    learning_rate=2e-5,
    per_device_train_batch_size=batch_size,
    per_device_eval_batch_size=batch_size,
    weight_decay=0.01,
    save_total_limit=1,
    num_train_epochs=3,
    predict_with_generate=True,
    fp16=True,
    push_to_hub=True,
)
```
:::

::: {.cell .markdown id="km3pGVdTIrJc"}
Aquí configuramos la evaluación para que se realice al final de cada
época, ajustamos la tasa de aprendizaje, utilizamos el `tamaño_del_lote`
definido en la parte superior de la celda y personalizamos el
decaimiento del peso. Como el `Seq2SeqTrainer` guardará el modelo
regularmente y nuestro conjunto de datos es bastante grande, le decimos
que haga tres guardados como máximo. Por último, utilizamos la opción
`predict_with_generate` (para generar correctamente los resúmenes) y
activamos el entrenamiento de precisión mixta (para ir un poco más
rápido).

El último argumento para configurar todo para que podamos empujar el
modelo al [Hub](https://huggingface.co/models) regularmente durante el
entrenamiento. Elimínalo si no has seguido los pasos de instalación en
la parte superior del cuaderno. Si quieres guardar tu modelo localmente
con un nombre diferente al del repositorio al que será empujado, o si
quieres empujar tu modelo bajo una organización y no tu espacio de
nombres, utiliza el argumento `hub_model_id` para establecer el nombre
del repositorio (tiene que ser el nombre completo, incluyendo tu espacio
de nombres: por ejemplo `"sgugger/marian-finetuned-en-to-ro"` o
`"huggingface/marian-finetuned-en-to-ro"`).

A continuación, necesitamos un tipo especial de recopilador de datos,
que no sólo rellenará las entradas hasta la longitud máxima en el lote,
sino también las etiquetas:
:::

::: {.cell .code id="j9up_FYsXYtA"}
``` {.python}
data_collator = DataCollatorForSeq2Seq(tokenizer, model=model)
```
:::

::: {.cell .markdown id="7sZOdRlRIrJd"}
Lo último que hay que definir para nuestro `Seq2SeqTrainer` es cómo
calcular las métricas a partir de las predicciones. Tenemos que definir
una función para esto, que sólo utilizará la \"métrica\" que cargamos
antes, y tenemos que hacer un poco de pre-procesamiento para decodificar
las predicciones en los textos:
:::

::: {.cell .code id="UmvbnJ9JIrJd"}
``` {.python}
import numpy as np

def postprocess_text(preds, labels):
    preds = [pred.strip() for pred in preds]
    labels = [[label.strip()] for label in labels]

    return preds, labels

def compute_metrics(eval_preds):
    preds, labels = eval_preds
    if isinstance(preds, tuple):
        preds = preds[0]
    decoded_preds = tokenizer.batch_decode(preds, skip_special_tokens=True)

    # Replace -100 in the labels as we can't decode them.
    labels = np.where(labels != -100, labels, tokenizer.pad_token_id)
    decoded_labels = tokenizer.batch_decode(labels, skip_special_tokens=True)

    # Some simple post-processing
    decoded_preds, decoded_labels = postprocess_text(decoded_preds, decoded_labels)

    result = metric.compute(predictions=decoded_preds, references=decoded_labels)
    result = {"bleu": result["score"]}

    prediction_lens = [np.count_nonzero(pred != tokenizer.pad_token_id) for pred in preds]
    result["gen_len"] = np.mean(prediction_lens)
    result = {k: round(v, 4) for k, v in result.items()}
    return result
```
:::

::: {.cell .markdown id="rXuFTAzDIrJe"}
A continuación, sólo tenemos que pasar todo esto junto con nuestros
conjuntos de datos al `Seq2SeqTrainer`:
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="imY1oC3SIrJf" outputId="9063305f-7b9f-4903-a3e5-cadf839b7e61"}
``` {.python}
trainer = Seq2SeqTrainer(
    model,
    args,
    train_dataset=tokenized_datasets["train"],
    eval_dataset=tokenized_datasets["validation"],
    data_collator=data_collator,
    tokenizer=tokenizer,
    compute_metrics=compute_metrics
)
```

::: {.output .stream .stderr}
    Cloning https://huggingface.co/oskrmiguel/t5-small-finetuned-es-to-pt into local empty directory.
    Using amp half precision backend
:::
:::

::: {.cell .markdown id="CdzABDVcIrJg"}
Ahora podemos afinar nuestro modelo simplemente llamando al método
`train`:
:::

::: {.cell .code colab="{\"height\":1000,\"base_uri\":\"https://localhost:8080/\"}" id="uNx5pyRlIrJh" outputId="11ba6411-ed22-4428-8c0b-766aed66e3f6" scrolled="false"}
``` {.python}
trainer.train()
```

::: {.output .stream .stderr}
    The following columns in the training set  don't have a corresponding argument in `T5ForConditionalGeneration.forward` and have been ignored: id, translation. If id, translation are not expected by `T5ForConditionalGeneration.forward`,  you can safely ignore this message.
    /usr/local/lib/python3.7/dist-packages/transformers/optimization.py:309: FutureWarning: This implementation of AdamW is deprecated and will be removed in a future version. Use the PyTorch implementation torch.optim.AdamW instead, or set `no_deprecation_warning=True` to disable this warning
      FutureWarning,
    ***** Running training *****
      Num examples = 61003
      Num Epochs = 3
      Instantaneous batch size per device = 32
      Total train batch size (w. parallel, distributed & accumulation) = 32
      Gradient Accumulation steps = 1
      Total optimization steps = 5721
:::

::: {.output .display_data}
```{=html}
    <div>
      
      <progress value='5721' max='5721' style='width:300px; height:20px; vertical-align: middle;'></progress>
      [5721/5721 15:59, Epoch 3/3]
    </div>
    <table border="1" class="dataframe">
  <thead>
 <tr style="text-align: left;">
      <th>Epoch</th>
      <th>Training Loss</th>
      <th>Validation Loss</th>
      <th>Bleu</th>
      <th>Gen Len</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>2.202700</td>
      <td>1.788384</td>
      <td>11.619200</td>
      <td>15.882900</td>
    </tr>
    <tr>
      <td>2</td>
      <td>1.929600</td>
      <td>1.603351</td>
      <td>14.201000</td>
      <td>15.893500</td>
    </tr>
    <tr>
      <td>3</td>
      <td>1.836400</td>
      <td>1.555670</td>
      <td>15.047300</td>
      <td>15.869300</td>
    </tr>
  </tbody>
</table><p>
```
:::

::: {.output .stream .stderr}
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-500
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-500/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-500/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-500/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-500/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-500/spiece.model
    tokenizer config file saved in t5-small-finetuned-es-to-pt/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/spiece.model
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-1000
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-1000/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-1000/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-1000/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-1000/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-1000/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-500] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-1500
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-1500/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-1500/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-1500/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-1500/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-1500/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-1000] due to args.save_total_limit
    The following columns in the evaluation set  don't have a corresponding argument in `T5ForConditionalGeneration.forward` and have been ignored: id, translation. If id, translation are not expected by `T5ForConditionalGeneration.forward`,  you can safely ignore this message.
    ***** Running Evaluation *****
      Num examples = 3390
      Batch size = 32
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-2000
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-2000/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-2000/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-2000/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-2000/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-2000/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-1500] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-2500
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-2500/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-2500/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-2500/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-2500/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-2500/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-2000] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-3000
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-3000/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-3000/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-3000/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-3000/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-3000/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-2500] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-3500
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-3500/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-3500/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-3500/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-3500/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-3500/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-3000] due to args.save_total_limit
    The following columns in the evaluation set  don't have a corresponding argument in `T5ForConditionalGeneration.forward` and have been ignored: id, translation. If id, translation are not expected by `T5ForConditionalGeneration.forward`,  you can safely ignore this message.
    ***** Running Evaluation *****
      Num examples = 3390
      Batch size = 32
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-4000
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-4000/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-4000/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-4000/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-4000/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-4000/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-3500] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-4500
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-4500/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-4500/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-4500/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-4500/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-4500/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-4000] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-5000
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-5000/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-5000/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-5000/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-5000/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-5000/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-4500] due to args.save_total_limit
    Saving model checkpoint to t5-small-finetuned-es-to-pt/checkpoint-5500
    Configuration saved in t5-small-finetuned-es-to-pt/checkpoint-5500/config.json
    Model weights saved in t5-small-finetuned-es-to-pt/checkpoint-5500/pytorch_model.bin
    tokenizer config file saved in t5-small-finetuned-es-to-pt/checkpoint-5500/tokenizer_config.json
    Special tokens file saved in t5-small-finetuned-es-to-pt/checkpoint-5500/special_tokens_map.json
    Copy vocab file to t5-small-finetuned-es-to-pt/checkpoint-5500/spiece.model
    Deleting older checkpoint [t5-small-finetuned-es-to-pt/checkpoint-5000] due to args.save_total_limit
    The following columns in the evaluation set  don't have a corresponding argument in `T5ForConditionalGeneration.forward` and have been ignored: id, translation. If id, translation are not expected by `T5ForConditionalGeneration.forward`,  you can safely ignore this message.
    ***** Running Evaluation *****
      Num examples = 3390
      Batch size = 32


    Training completed. Do not forget to share your model on huggingface.co/models =)
:::

::: {.output .execute_result execution_count="24"}
    TrainOutput(global_step=5721, training_loss=2.0591878639278534, metrics={'train_runtime': 960.3403, 'train_samples_per_second': 190.567, 'train_steps_per_second': 5.957, 'total_flos': 2569215357517824.0, 'train_loss': 2.0591878639278534, 'epoch': 3.0})
:::
:::

::: {.cell .markdown id="on-YKkWCXYtI"}
Ahora puedes subir el resultado del entrenamiento al Hub, sólo tienes
que ejecutar esta instrucción:
:::

::: {.cell .code id="j1fYsYf6XYtJ"}
``` {.python}
trainer.push_to_hub()
```
:::

::: {.cell .markdown id="26R1b7dhdSd3"}
## Pruebas del Modelo
:::

::: {.cell .markdown id="c8zomQUJdXrX"}
Ahora probaremos nuestro modelo en la traducción con el conjunto de
test.

Primero descargaremos nuestro modelo subido al hub o si lo tienes
localmente utiliza la ruta donde guardaste el modelo recién entrenado.
:::

::: {.cell .code id="9ejLTqRgd-i3"}
``` {.python}
from transformers import AutoModelForSeq2SeqLM, AutoTokenizer
model = AutoModelForSeq2SeqLM.from_pretrained("oskrmiguel/t5-small-finetuned-es-to-pt")
tokenizer = AutoTokenizer.from_pretrained("oskrmiguel/t5-small-finetuned-es-to-pt")
```
:::

::: {.cell .markdown id="-1Fb55QegUJJ"}
Ahora utilizamos la división \'test\' que hicimos de nuestro DataSet
principal.

Como ejemplo traduciremos las 10 primeras frases del test.
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="OGcw2LNZfyOP" outputId="e1f27f37-9d61-4e72-9354-b29ee8d15843"}
``` {.python}
for indice in range(10):
  inputs = tokenizer(
      "{} {}".format("translate Spanish to Portuguese: ",raw_datasets['test'][indice]['translation']['es']),
      return_tensors="pt"
      )
  outputs = model.generate(inputs["input_ids"], max_length=40, num_beams=4, early_stopping=True)
  print("{} {}".format(raw_datasets['test'][indice]['translation']['es'],tokenizer.decode(outputs[0])))
```

::: {.output .stream .stdout}
    Lo que queda es recuerdo y amargura en el corazón. <pad> O que queda é recuerdo e amargura no coraz<unk>o.</s>
    La prostaglandina es una sustancia que protege las paredes del aparato digestivo. <pad> A prostaglandina é uma sustancia que protege as paredes do aparato digestivo.</s>
    Naoki y Kaori tienen la misma edad. <pad> Naoki e Kaori tem a misma edade.</s>
    ¿Tenés un papelito para anotar el número? <pad> Você tenho um papelito para anotar o n<unk>mero?</s>
    La esperanza muere al final. <pad> A esperanza muito final.</s>
    Este es un tipo de madera difícil de serrar. <pad> Este é um tipo de madera dif<unk>cil de serrar.</s>
    Este personaje sólo viste de rosa. <pad> Este personaje só viste de rosa.</s>
    Él vive solito. <pad> Ele vive solito.</s>
    Qué suerte que haga tan buen tiempo. <pad> Qué suerte que haga t<unk>o buen tempo.</s>
    María no sabe que es portadora del gen del albinismo. <pad> Mar<unk>a n<unk>o sabe que é portadora do gen do albinismo.</s>
:::
:::

::: {.cell .markdown id="niefbMramO2b"}
**NOTA**: Puedes entrenar el modelo por más épocas para que obtengas
mejores resultados en tu traducción
:::
